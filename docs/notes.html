---

title: Notes

keywords: fastai
sidebar: home_sidebar

summary: "Extra documentation for `jacobs-vault`."
description: "Extra documentation for `jacobs-vault`."
nb_path: "nbs/90_notes.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/90_notes.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span><span class="p">,</span> <span class="n">SVG</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Satellite-Coverage-Libraries">Satellite Coverage Libraries<a class="anchor-link" href="#Satellite-Coverage-Libraries"> </a></h2><p>Considered:</p>
<ul>
<li>pyEphem, but the inverse calcs seem to be broken.</li>
<li>pysat may be of interest, esp. pysat.Orbits</li>
<li>pyOrbital, though for coordinate transform it is included in Skyfield.</li>
</ul>
<p>Selected: <strong>Skyfield</strong>, "Elegant astronomy for Python" that uses py-sgp4 for speed. Includes example for <a href="https://rhodesmill.org/skyfield/earth-satellites.html#loading-a-tle-file">Loading a TLE file</a>:
  <blockquote>
  But the most popular approach is to ask the topocentric position for its 
  altitude and azimuth coordinates, which tell you whether the satellite is above or 
  below the horizon:</p>
<div class="highlight"><pre><span></span><span class="n">alt</span><span class="p">,</span> <span class="n">az</span><span class="p">,</span> <span class="n">distance</span> <span class="o">=</span> <span class="n">topocentric</span><span class="o">.</span><span class="n">altaz</span><span class="p">()</span>

  <span class="k">if</span> <span class="n">alt</span><span class="o">.</span><span class="n">degrees</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The ISS is above the horizon&#39;</span><span class="p">)</span>

  <span class="nb">print</span><span class="p">(</span><span class="n">alt</span><span class="p">)</span>
  <span class="nb">print</span><span class="p">(</span><span class="n">az</span><span class="p">)</span>
  <span class="nb">print</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">distance</span><span class="o">.</span><span class="n">km</span><span class="p">),</span> <span class="s1">&#39;km&#39;</span><span class="p">)</span>
  <span class="n">The</span> <span class="n">ISS</span> <span class="ow">is</span> <span class="n">above</span> <span class="n">the</span> <span class="n">horizon</span>
  <span class="mi">16</span><span class="n">deg</span> <span class="mi">16</span><span class="s1">&#39; 32.6&quot;</span>
  <span class="mi">350</span><span class="n">deg</span> <span class="mi">15</span><span class="s1">&#39; 20.4&quot;</span>
  <span class="mi">1168</span> <span class="n">km</span>
</pre></div>
<p>&lt;/blockquote&gt;</p>
<p>For example, the following loads (old) ISS elements, and asks about rise/set times, and if it is now above the horizon.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">skyfield.api</span> <span class="kn">import</span> <span class="n">EarthSatellite</span><span class="p">,</span> <span class="n">Topos</span><span class="p">,</span> <span class="n">load</span>

<span class="n">ts</span> <span class="o">=</span> <span class="n">load</span><span class="o">.</span><span class="n">timescale</span><span class="p">()</span>

<span class="c1"># Old ISS data</span>
<span class="n">line1</span> <span class="o">=</span> <span class="s1">&#39;1 25544U 98067A   14020.93268519  .00009878  00000-0  18200-3 0  5082&#39;</span>
<span class="n">line2</span> <span class="o">=</span> <span class="s1">&#39;2 25544  51.6498 109.4756 0003572  55.9686 274.8005 15.49815350868473&#39;</span>
<span class="n">satellite</span> <span class="o">=</span> <span class="n">EarthSatellite</span><span class="p">(</span><span class="n">line1</span><span class="p">,</span> <span class="n">line2</span><span class="p">,</span> <span class="s1">&#39;ISS (ZARYA)&#39;</span><span class="p">,</span> <span class="n">ts</span><span class="p">)</span>

<span class="c1"># Sample location</span>
<span class="n">bluffton</span> <span class="o">=</span> <span class="n">Topos</span><span class="p">(</span><span class="s1">&#39;40.8939 N&#39;</span><span class="p">,</span> <span class="s1">&#39;83.8917 W&#39;</span><span class="p">)</span>

<span class="c1"># Relative vector</span>
<span class="n">difference</span> <span class="o">=</span> <span class="n">satellite</span> <span class="o">-</span> <span class="n">bluffton</span>
<span class="n">t0</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">utc</span><span class="p">(</span><span class="mi">2017</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">23</span><span class="p">)</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">utc</span><span class="p">(</span><span class="mi">2017</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">24</span><span class="p">)</span>
<span class="n">topocentric</span> <span class="o">=</span> <span class="n">difference</span><span class="o">.</span><span class="n">at</span><span class="p">(</span><span class="n">t0</span><span class="p">)</span>
<span class="n">alt</span><span class="p">,</span> <span class="n">az</span><span class="p">,</span> <span class="n">distance</span> <span class="o">=</span> <span class="n">topocentric</span><span class="o">.</span><span class="n">altaz</span><span class="p">()</span>

<span class="c1"># Quick report for t0</span>
<span class="k">if</span> <span class="n">alt</span><span class="o">.</span><span class="n">degrees</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The ISS is above the horizon&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">alt</span><span class="p">,</span> <span class="n">az</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">distance</span><span class="o">.</span><span class="n">km</span><span class="p">),</span> <span class="s1">&#39;km&#39;</span><span class="p">)</span>

<span class="c1"># When does it rise and set, between t0 and t1, for this location?</span>
<span class="n">times</span><span class="p">,</span> <span class="n">events</span> <span class="o">=</span> <span class="n">satellite</span><span class="o">.</span><span class="n">find_events</span><span class="p">(</span><span class="n">bluffton</span><span class="p">,</span> <span class="n">t0</span><span class="p">,</span> <span class="n">t1</span> <span class="p">,</span> <span class="n">altitude_degrees</span><span class="o">=</span><span class="mf">30.0</span><span class="p">)</span>
<span class="k">for</span> <span class="n">ti</span><span class="p">,</span> <span class="n">event</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">times</span><span class="p">,</span> <span class="n">events</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;rise above 30°&#39;</span><span class="p">,</span> <span class="s1">&#39;culminate&#39;</span><span class="p">,</span> <span class="s1">&#39;set below 30°&#39;</span><span class="p">)[</span><span class="n">event</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ti</span><span class="o">.</span><span class="n">utc_strftime</span><span class="p">(</span><span class="s1">&#39;%Y %b </span><span class="si">%d</span><span class="s1"> %H:%M:%S&#39;</span><span class="p">),</span> <span class="n">name</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>-42deg 16&#39; 16.3&#34; 248deg 33&#39; 15.6&#34; 9008 km
2017 Jan 23 05:06:28 rise above 30°
2017 Jan 23 05:07:31 culminate
2017 Jan 23 05:08:35 set below 30°
2017 Jan 23 22:56:38 rise above 30°
2017 Jan 23 22:57:13 culminate
2017 Jan 23 22:57:48 set below 30°
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Other-Resources">Other Resources<a class="anchor-link" href="#Other-Resources"> </a></h3><ul>
<li><p>Interactive web page, <a href="https://www.satsig.net/satellite/satellite-beam-design.htm">Satellite beam design</a>
Plots rough ellipses, but seems to be embedded js, not RESTful. Uses Google for the map.</p>
</li>
<li><p>Alan Washburn (NPS), <a href="https://faculty.nps.edu/awashburn/Files/Notes/EARTHCOV.pdf">Earth Coverage by Satellites in Circular Orbit</a></p>
</li>
</ul>
<ul>
<li><p>Bieliech et al 2019: <a href="https://clas.ucdenver.edu/math-clinic/sites/default/files/attached-files/ball_final_report.pdf">A study into satellite coverage...</a>
"Math Clinic" capstone project, sponsored by Ball Aerospace. We have permission to use their jupyter notebook, which does the Kepler orbit calculations from scratch. However, while we could use it to check other solutions, we don't have redistribution rights, so it shouldn't go in the repo or solution.  See also <a href="https://clas.ucdenver.edu/math-clinic/sites/default/files/attached-files/ball_final_report.pdf">Commentary on Bielich et al. by Prof. Fournier</a> for limitations.</p>
</li>
<li><p>Cakaj et al <a href="https://thesai.org/Downloads/Volume5No6/Paper_2-The_Coverage_Analysis_for_Low_Earth_Orbiting_Satellites_at_Low_Elevation.pdf">The coverage analysis for LEO satellites at low elevation</a>
IJACSA 5:6, 2014.</p>
</li>
<li><p>Bettner, <a href="https://apps.dtic.mil/dtic/tr/fulltext/u2/a286848.pdf">Tools for Satellite Ground Track and Coverage Analysis</a> via DTIC. 1995 report for USAF, software in Microsoft Excel(!!). Gives Visual Basic code in the appendix.</p>
</li>
</ul>
<h3 id="Alan-Goldberg-of-NOVAC-suggests:">Alan Goldberg of NOVAC suggests:<a class="anchor-link" href="#Alan-Goldberg-of-NOVAC-suggests:"> </a></h3><blockquote><p>If your application is to determine satellite FOR, I suggest 
<a href="https://www.taitussoftware.com/products/applications/savoir/">https://www.taitussoftware.com/products/applications/savoir/</a>.  ...&gt; It was easier to use than either STK or government proprietary software.</p>
</blockquote>
<p>However, I think it's commercial proprietary, so no go. He continues:&gt;Other options, which I have not used myself:&gt; &gt; I suspect you will find what you need in this</p>
<blockquote><p><a href="http://celestrak.com/publications/AIAA/2006-6753/&gt;">http://celestrak.com/publications/AIAA/2006-6753/&gt;</a> &gt; Here is a matlab routine 
<a href="https://in.mathworks.com/matlabcentral/fileexchange/55698-satellite-ephemeris-to-lla-eph2lla-m&gt;">https://in.mathworks.com/matlabcentral/fileexchange/55698-satellite-ephemeris-to-lla-eph2lla-m&gt;</a> &gt; JPL’s HORIZON can do everything, but may not be convenient 
<a href="https://ssd.jpl.nasa.gov/?horizons_doc&gt;">https://ssd.jpl.nasa.gov/?horizons_doc&gt;</a> 
If you roll your own, I’d suggest first changing the satellite from TLE (which is 
in ECI frame) to cartesian in the ECEF(WGS-84) frame, then converting to geodetic 
or whatever other system you wish.</p>
</blockquote>

</div>
</div>
</div>
</div>
 

